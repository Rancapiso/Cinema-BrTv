name: Build Android APK (Expo EAS)

on:
  workflow_dispatch:
    push:
        branches: [ "main" ]

        jobs:
          build:
              runs-on: ubuntu-latest
                  steps:
                        - uses: actions/checkout@v4

                              - uses: actions/setup-node@v4
                                      with:
                                                node-version: 18
                                                          cache: npm

                                                                - name: Install dependencies
                                                                        run: |
                                                                                  unzip clean_project.zip -d .
                                                                                            npm install

                                                                                                  - name: Install EAS
                                                                                                          run: npm i -g eas-cli
                                                                                                          
                                                                                                                - name: Build APK
                                                                                                                        env:
                                                                                                                                  EXPO_TOKEN: ${{ secrets.EXPO_TOKEN }}
                                                                                                                                          run: eas build --platform android --profile preview --non-interactive
                                                                                                                                          
                                                                                                                                          
